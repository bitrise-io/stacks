---
# Categories schema
# - name:        # required string
#   command:     # optional string             default: name
#   args:        # required string             default: --version (single space to override if no args)
#   parser:      # optional parser             default: semver, none for no parsing, noversion for empty string
#   os:          # optional macos|linux|all   default: all

- category: languages
  commands:
    - name: Ruby versions
      command: asdf
      args: list ruby
      parser: noversion
    - name: Go versions
      os: macos
      command: asdf
      args: list golang
      parser: noversion
    - name: Go
      os: linux
      command: go
      args: version
    - name: Node.js versions
      os: macos
      command: asdf
      args: list nodejs
      parser: noversion
    - name: Node.js
      os: linux
      command: node
      args: --version
    - name: Java versions
      os: macos
      command: jenv
      args: versions
      parser: noversion
    - name: Java installs
      os: linux
      command: update-alternatives
      args: --list java
      parser: noversion
    - name: Flutter versions
      os: macos
      command: fvm
      args: list
    - name: Python
      command: python
    - name: Kotlin
      command: kotlin
      args: -version

- category: tools
  commands:
    - name: Git
      command: git
    - name: Git LFS
      command: git-lfs
      args: version
    - name: GitHub CLI
      os: macos
      command: gh
      args: --version
    - name: NPM
      command: npm
    - name: Yarn
      command: yarn
    - name: jq
    - name: bazelisk
      os: macos
      command: bazelisk
      args: version
    - name: AWS CLI
      command: aws
    - name: Google Cloud CLI
      os: linux
      command: gcloud
      args: version
    - name: Dart global packages
      command: dart
      args: pub global list
      os: macos
      parser: noversion
    - name: Mercurial
      command: hg
      args: version
    - name: Firebase
      command: firebase
    - name: OpenConnect
      command: openconnect
    - name: CMake
      command: cmake
    - name: OpenVPN
      os: macos
      command: openvpn
    - name: OpenConnect
      os: linux
      command: openconnect
    - name: GCC
      command: gcc
      os: linux
    - name: Clang
      command: clang
      os: linux
    - name: "ImageMagick Convert"
      command: convert
      os: linux
    - name: ShellCheck
      os: linux
      command: shellcheck
      args: --version
    - name: Docker
      os: linux
      command: docker
    - name: Docker Compose
      os: linux
      command: docker-compose
    - name: Pre-cached Docker images
      os: linux
      command: docker
      args: images --format '{{ .Repository }} - {{ .Size }}'
      parser: noversion

- category: bitrise
  commands:
    - name: Bitrise CLI
      command: bitrise
    - name: Bitrise stepman
      command: stepman
    - name: Bitrise envman
      command: envman

- category: npm
  commands:
    - name: Global NPM packages
      command: npm
      args: list -g --depth=0
      parser: noversion

- category: apple
  commands:
    - name: Swift (Xcode bundled)
      command: xcrun
      args: swift --version
      os: macos
      parser: noversion # output contains multiple version numbers
    - name: Active Xcode command line tools
      command: xcode-select
      args: --print-path
      os: macos
      parser: noversion
    - name: swift-format
      os: macos
    - name: Tuist
      command: tuist
      args: version
      os: macos
    - name: Mint
      command: mint
      args: version
      os: macos
    - name: Cocoapods
      command: pod
      os: macos
    - name: Carthage
      command: carthage
      args: "version"
      os: macos
    - name: SwiftLint
      command: swiftlint
      args: version
      os: macos
    - name: "xcpretty"
      os: macos
    - name: applesimutils
      args: -v
      os: macos
    - name: danger-swift
      os: macos
    - name: "xcbeautify"
      os: "macos"
    - name: "xclogparser"
      args: "version"
      os: "macos"

- category: android
  commands:
    - name: Android SDK components
      command: sdkmanager
      args: --list_installed
      parser: noversion
    - name: Emulator version
      command: grep
      args: "^Pkg.Revision \"${ANDROID_HOME}\"/emulator/source.properties"
    - name: Gradle
      command: gradle
    - name: Maven
      command: mvn
    - name: Ant
      command: ant
      args: -version
      os: macos

- category: os
  commands:
    - name: macOS system overview
      os: macos
      command: system_profiler
      args: SPSoftwareDataType
      parser: noversion
    - name: Disk space
      os: macos
      command: df
      args: -h /
      parser: noversion
    - name: Linux release
      os: linux
      command: lsb_release
      args: --all
      parser: noversion
    - name: Disk space
      os: linux
      command: df
      args: -kh /bitrise/src
      parser: noversion
